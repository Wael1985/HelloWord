<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ù†Ø¸Ù… Ø®Ø·Ø© Ø§Ù„Ø¯Ø±Ø³ ÙˆÙ…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ø­Ø¶ÙˆØ±</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @media print {
            .no-print {
                display: none;
            }
            .printable {
                display: block;
            }
        }
        .dark {
            background-color: #1a202c;
            color: #e2e8f0;
        }
        table {
            width: 100%;
            border-collapse: collapse;
        }
        th, td {
            border: 1px solid #e2e8f0;
            padding: 8px;
            text-align: right;
        }
        th {
            background-color: #f8fafc;
        }
        .dark th {
            background-color: #2d3748;
        }
    </style>
</head>
<body class="bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-white">
    <div class="container mx-auto p-4">
        <div class="text-center mb-8">
            <h1 class="text-4xl font-bold text-gray-800 dark:text-white">ğŸš€ Ø®Ø·Ø© Ø§Ù„Ø¯Ø±Ø³ ÙˆÙ…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ø­Ø¶ÙˆØ± - ÙˆØ¬Ø¯Ø§Ù† Ù‚Ø±Ù…Ø© ğŸš€</h1>
        </div>

        <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-8">
            <div class="flex flex-wrap -mx-2">
                <div class="w-full md:w-1/2 px-2 mb-4">
                    <label for="date" class="block mb-2">ğŸ“… Ø§Ù„ØªØ§Ø±ÙŠØ®:</label>
                    <input type="date" id="date" class="w-full p-2 border rounded dark:bg-gray-700 dark:text-white">
                </div>
                <div class="w-full md:w-1/2 px-2 mb-4">
                    <label for="subject" class="block mb-2">ğŸ“š Ø§Ù„Ù…Ø§Ø¯Ø©:</label>
                    <select id="subject" class="w-full p-2 border rounded dark:bg-gray-700 dark:text-white">
                        <option value="">Ø§Ø®ØªØ± Ø§Ù„Ù…Ø§Ø¯Ø©</option>
                        <option value="Ø±ÙŠØ§Ø¶ÙŠØ§Øª">Ø±ÙŠØ§Ø¶ÙŠØ§Øª</option>
                        <option value="Ø¹Ù„ÙˆÙ…">Ø¹Ù„ÙˆÙ…</option>
                        <option value="Ù„ØºØ© Ø¹Ø±Ø¨ÙŠØ©">Ù„ØºØ© Ø¹Ø±Ø¨ÙŠØ©</option>
                        <option value="ØªØ§Ø±ÙŠØ®">ØªØ§Ø±ÙŠØ®</option>
                        <option value="Ø¬ØºØ±Ø§ÙÙŠØ§">Ø¬ØºØ±Ø§ÙÙŠØ§</option>
                    </select>
                </div>
            </div>

            <div class="flex flex-wrap -mx-2">
                <div class="w-full md:w-1/2 px-2 mb-4">
                    <label for="grade" class="block mb-2">ğŸ« Ø§Ù„ØµÙ:</label>
                    <select id="grade" class="w-full p-2 border rounded dark:bg-gray-700 dark:text-white">
                        <option value="">Ø§Ø®ØªØ± Ø§Ù„ØµÙ</option>
                        <option value="Ø§Ù„Ø£ÙˆÙ„">Ø§Ù„ØµÙ Ø§Ù„Ø£ÙˆÙ„</option>
                        <option value="Ø§Ù„Ø«Ø§Ù†ÙŠ">Ø§Ù„ØµÙ Ø§Ù„Ø«Ø§Ù†ÙŠ</option>
                        <option value="Ø§Ù„Ø«Ø§Ù„Ø«">Ø§Ù„ØµÙ Ø§Ù„Ø«Ø§Ù„Ø«</option>
                        <option value="Ø§Ù„Ø±Ø§Ø¨Ø¹">Ø§Ù„ØµÙ Ø§Ù„Ø±Ø§Ø¨Ø¹</option>
                        <option value="Ø§Ù„Ø®Ø§Ù…Ø³">Ø§Ù„ØµÙ Ø§Ù„Ø®Ø§Ù…Ø³</option>
                        <option value="Ø§Ù„Ø³Ø§Ø¯Ø³">Ø§Ù„ØµÙ Ø§Ù„Ø³Ø§Ø¯Ø³</option>
                    </select>
                </div>
                <div class="w-full md:w-1/2 px-2 mb-4">
                    <label for="period" class="block mb-2">â° Ø§Ù„Ø­ØµØ©:</label>
                    <select id="period" class="w-full p-2 border rounded dark:bg-gray-700 dark:text-white">
                        <option value="">Ø§Ø®ØªØ± Ø§Ù„Ø­ØµØ©</option>
                        <option value="Ø§Ù„Ø£ÙˆÙ„Ù‰">Ø§Ù„Ø­ØµØ© Ø§Ù„Ø£ÙˆÙ„Ù‰</option>
                        <option value="Ø§Ù„Ø«Ø§Ù†ÙŠØ©">Ø§Ù„Ø­ØµØ© Ø§Ù„Ø«Ø§Ù†ÙŠØ©</option>
                        <option value="Ø§Ù„Ø«Ø§Ù„Ø«Ø©">Ø§Ù„Ø­ØµØ© Ø§Ù„Ø«Ø§Ù„Ø«Ø©</option>
                        <option value="Ø§Ù„Ø±Ø§Ø¨Ø¹Ø©">Ø§Ù„Ø­ØµØ© Ø§Ù„Ø±Ø§Ø¨Ø¹Ø©</option>
                        <option value="Ø§Ù„Ø®Ø§Ù…Ø³Ø©">Ø§Ù„Ø­ØµØ© Ø§Ù„Ø®Ø§Ù…Ø³Ø©</option>
                    </select>
                </div>
            </div>

            <div class="mb-4">
                <label for="lessonTitle" class="block mb-2">ğŸ¯ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¯Ø±Ø³:</label>
                <input type="text" id="lessonTitle" class="w-full p-2 border rounded dark:bg-gray-700 dark:text-white">
            </div>

            <div class="mb-4">
                <label for="introduction" class="block mb-2">ğŸ¬ Ø§Ù„Ù…Ù‚Ø¯Ù…Ø©:</label>
                <textarea id="introduction" class="w-full p-2 border rounded dark:bg-gray-700 dark:text-white" rows="3"></textarea>
            </div>

            <div class="mb-4">
                <label for="objectives" class="block mb-2">ğŸ† Ø§Ù„Ø£Ù‡Ø¯Ø§Ù:</label>
                <textarea id="objectives" class="w-full p-2 border rounded dark:bg-gray-700 dark:text-white" rows="3"></textarea>
            </div>

            <div class="mb-4">
                <label for="steps" class="block mb-2">ğŸ‘£ Ø®Ø·ÙˆØ§Øª Ø§Ù„Ø¯Ø±Ø³:</label>
                <textarea id="steps" class="w-full p-2 border rounded dark:bg-gray-700 dark:text-white" rows="4"></textarea>
            </div>

            <div class="mb-4">
                <label for="tools" class="block mb-2">ğŸ›  Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø©:</label>
                <textarea id="tools" class="w-full p-2 border rounded dark:bg-gray-700 dark:text-white" rows="2"></textarea>
            </div>

            <div class="mb-4">
                <label for="activities" class="block mb-2">ğŸ“š Ø§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ©:</label>
                <textarea id="activities" class="w-full p-2 border rounded dark:bg-gray-700 dark:text-white" rows="3"></textarea>
            </div>

            <div class="mb-4">
                <label for="imageUpload" class="block mb-2">ğŸ–¼ï¸ ØªØ­Ù…ÙŠÙ„ ØµÙˆØ±Ø© Ø§Ù„Ø¯Ø±Ø³:</label>
                <input type="file" id="imageUpload" accept="image/*" class="w-full p-2 border rounded dark:bg-gray-700 dark:text-white">
            </div>

            <div id="imagePreview" class="mb-4 hidden">
                <img id="preview" src="" alt="Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ØµÙˆØ±Ø©" class="max-w-full h-auto">
                <button id="removeImage" class="mt-2 bg-red-500 text-white px-4 py-2 rounded">âŒ Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ØµÙˆØ±Ø©</button>
            </div>

            <div class="flex items-center justify-between">
                <button id="savePlan" class="bg-blue-500 text-white px-4 py-2 rounded">ğŸ’¾ Ø­ÙØ¸ Ø®Ø·Ø© Ø§Ù„Ø¯Ø±Ø³</button>
                <button id="resetForm" class="bg-gray-500 text-white px-4 py-2 rounded">ğŸ”„ Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù†Ù…ÙˆØ°Ø¬</button>
            </div>
        </div>

        <div class="mt-8">
            <h2 class="text-2xl font-bold mb-4 text-gray-800 dark:text-white">ğŸ“‹ Ø§Ù„Ø­Ø¶ÙˆØ±</h2>
            <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-6">
                <div class="mb-4 flex items-center">
                    <input type="text" id="studentName" placeholder="Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨" class="w-full p-2 border rounded dark:bg-gray-700 dark:text-white mr-2">
                    <button id="addStudent" class="bg-green-500 text-white px-4 py-2 rounded">â• Ø¥Ø¶Ø§ÙØ© Ø·Ø§Ù„Ø¨</button>
                </div>
                <div class="overflow-x-auto">
                    <table id="attendanceTable" class="w-full">
                        <thead>
                            <tr>
                                <th class="text-right">Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨</th>
                                <th class="text-right">Ø§Ù„Ø­Ø§Ù„Ø©</th>
                                <th class="text-right">Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Attendance rows will be added here -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <div id="previewSection" class="mt-8">
            <h2 class="text-2xl font-bold mb-4 text-gray-800 dark:text-white">ğŸ‘ï¸ Ù…Ø¹Ø§ÙŠÙ†Ø© Ø®Ø·Ø© Ø§Ù„Ø¯Ø±Ø³</h2>
            <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-6">
                <div class="mb-4 flex items-center">
                    <label for="previewWidth" class="mr-2">Ø¹Ø±Ø¶ Ø§Ù„Ø¬Ø¯ÙˆÙ„:</label>
                    <input type="range" id="previewWidth" min="50" max="100" value="100" class="mr-2">
                    <span id="widthValue">100%</span>
                </div>
                <button id="updatePreview" class="bg-purple-500 text-white px-4 py-2 rounded mb-4">ğŸ”„ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø©</button>
                <div id="previewContent" class="overflow-x-auto">
                    <!-- Preview content will be added here -->
                </div>
            </div>
        </div>

        <div class="mt-8 flex justify-between items-center">
            <button id="printLesson" class="bg-indigo-500 text-white px-4 py-2 rounded">ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø© Ø®Ø·Ø© Ø§Ù„Ø¯Ø±Ø³</button>
            <button id="printAttendance" class="bg-indigo-500 text-white px-4 py-2 rounded">ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø© Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø­Ø¶ÙˆØ±</button>
            <button id="toggleDarkMode" class="bg-gray-500 text-white px-4 py-2 rounded">ğŸŒ“ ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ</button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const body = document.body;
            const imageUpload = document.getElementById('imageUpload');
            const imagePreview = document.getElementById('imagePreview');
            const preview = document.getElementById('preview');
            const removeImage = document.getElementById('removeImage');
            const addStudent = document.getElementById('addStudent');
            const attendanceTable = document.getElementById('attendanceTable');
            const updatePreview = document.getElementById('updatePreview');
            const previewContent = document.getElementById('previewContent');
            const previewWidth = document.getElementById('previewWidth');
            const widthValue = document.getElementById('widthValue');
            const printLesson = document.getElementById('printLesson');
            const printAttendance = document.getElementById('printAttendance');
            const toggleDarkMode = document.getElementById('toggleDarkMode');
            const savePlan = document.getElementById('savePlan');
            const resetForm = document.getElementById('resetForm');

            // Image upload and preview
            imageUpload.addEventListener('change', function(e) {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        preview.src = e.target.result;
                        imagePreview.classList.remove('hidden');
                    }
                    reader.readAsDataURL(file);
                }
            });

            removeImage.addEventListener('click', function() {
                imageUpload.value = '';
                preview.src = '';
                imagePreview.classList.add('hidden');
            });

            // Add student to attendance
            addStudent.addEventListener('click', function() {
                const studentName = document.getElementById('studentName').value;
                if (studentName) {
                    const row = attendanceTable.insertRow(-1);
                    const cell1 = row.insertCell(0);
                    const cell2 = row.insertCell(1);
                    const cell3 = row.insertCell(2);
                    cell1.textContent = studentName;
                    cell2.innerHTML = `
                        <select class="p-2 border rounded dark:bg-gray-700 dark:text-white">
                            <option value="Ø­Ø§Ø¶Ø±">Ø­Ø§Ø¶Ø±</option>
                            <option value="ØºØ§Ø¦Ø¨">ØºØ§Ø¦Ø¨</option>
                        </select>
                    `;
                    cell3.innerHTML = `<button class="bg-red-500 text-white px-2 py-1 rounded">Ø­Ø°Ù</button>`;
                    cell3.querySelector('button').addEventListener('click', function() {
                        attendanceTable.deleteRow(row.rowIndex);
                    });
                    document.getElementById('studentName').value = '';
                }
            });

            // Update preview
            updatePreview.addEventListener('click', function() {
                const date = document.getElementById('date').value;
                const subject = document.getElementById('subject').value;
                const grade = document.getElementById('grade').value;
                const period = document.getElementById('period').value;
                const lessonTitle = document.getElementById('lessonTitle').value;
                const introduction = document.getElementById('introduction').value;
                const objectives = document.getElementById('objectives').value;
                const steps = document.getElementById('steps').value;
                const tools = document.getElementById('tools').value;
                const activities = document.getElementById('activities').value;

                let previewHTML = `
                    <table class="w-full mb-4">
                        <tr>
                            <th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th>
                            <th>Ø§Ù„Ù…Ø§Ø¯Ø©</th>
                            <th>Ø§Ù„ØµÙ</th>
                            <th>Ø§Ù„Ø­ØµØ©</th>
                        </tr>
                        <tr>
                            <td>${date}</td>
                            <td>${subject}</td>
                            <td>${grade}</td>
                            <td>${period}</td>
                        </tr>
                    </table>
                    <h2 class="text-xl font-bold mb-2">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¯Ø±Ø³: ${lessonTitle}</h2>
        <table class="w-full">
            <tr>
                <th>Ø§Ù„Ù…Ù‚Ø¯Ù…Ø©</th>
                <td>${introduction}</td>
            </tr>
            <tr>
                <th>Ø§Ù„Ø£Ù‡Ø¯Ø§Ù</th>
                <td>${objectives}</td>
            </tr>
            <tr>
                <th>Ø®Ø·ÙˆØ§Øª Ø§Ù„Ø¯Ø±Ø³</th>
                <td>${steps}</td>
            </tr>
            <tr>
                <th>Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø©</th>
                <td>${tools}</td>
            </tr>
            <tr>
                <th>Ø§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ©</th>
                <td>${activities}</td>
            </tr>
        </table>
    `;

    if (preview.src) {
        previewHTML += `<img src="${preview.src}" alt="ØµÙˆØ±Ø© Ø§Ù„Ø¯Ø±Ø³" style="max-width: 100%; height: auto; margin-top: 1rem;">`;
    }

    previewContent.innerHTML = previewHTML;
});

// Update preview width
previewWidth.addEventListener('input', function() {
    const width = this.value;
    widthValue.textContent = `${width}%`;
    previewContent.style.width = `${width}%`;
});

// Print functions
printLesson.addEventListener('click', function() {
    const printWindow = window.open('', '', 'width=800,height=600');
    printWindow.document.write('<html><head><title>Ø®Ø·Ø© Ø§Ù„Ø¯Ø±Ø³</title>');
    printWindow.document.write('<style>body { font-family: Arial, sans-serif; direction: rtl; } table { width: 100%; border-collapse: collapse; margin-bottom: 1rem; } th, td { border: 1px solid black; padding: 8px; text-align: right; }</style>');
    printWindow.document.write('</head><body>');
    printWindow.document.write(previewContent.innerHTML);
    printWindow.document.write('</body></html>');
    printWindow.document.close();
    printWindow.print();
});

printAttendance.addEventListener('click', function() {
    const printWindow = window.open('', '', 'width=800,height=600');
    printWindow.document.write('<html><head><title>Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø­Ø¶ÙˆØ±</title>');
    printWindow.document.write('<style>body { font-family: Arial, sans-serif; direction: rtl; } table { width: 100%; border-collapse: collapse; } th, td { border: 1px solid black; padding: 8px; text-align: right; }</style>');
    printWindow.document.write('</head><body>');
    printWindow.document.write('<h2>Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø­Ø¶ÙˆØ±</h2>');
    printWindow.document.write(attendanceTable.outerHTML);
    printWindow.document.write('</body></html>');
    printWindow.document.close();
    printWindow.print();
});

// Toggle dark mode
toggleDarkMode.addEventListener('click', function() {
    body.classList.toggle('dark');
});

// Save lesson plan
savePlan.addEventListener('click', function() {
    const lessonData = {
        date: document.getElementById('date').value,
        subject: document.getElementById('subject').value,
        grade: document.getElementById('grade').value,
        period: document.getElementById('period').value,
        lessonTitle: document.getElementById('lessonTitle').value,
        introduction: document.getElementById('introduction').value,
        objectives: document.getElementById('objectives').value,
        steps: document.getElementById('steps').value,
        tools: document.getElementById('tools').value,
        activities: document.getElementById('activities').value,
        image: preview.src,
        attendance: Array.from(attendanceTable.rows).slice(1).map(row => ({
            name: row.cells[0].textContent,
            status: row.cells[1].querySelector('select').value
        }))
    };

    localStorage.setItem('lessonPlan', JSON.stringify(lessonData));
    alert('ØªÙ… Ø­ÙØ¸ Ø®Ø·Ø© Ø§Ù„Ø¯Ø±Ø³ ÙˆÙ‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø­Ø¶ÙˆØ± Ø¨Ù†Ø¬Ø§Ø­!');
});

// Reset form
resetForm.addEventListener('click', function() {
    document.getElementById('date').value = '';
    document.getElementById('subject').value = '';
    document.getElementById('grade').value = '';
    document.getElementById('period').value = '';
    document.getElementById('lessonTitle').value = '';
    document.getElementById('introduction').value = '';
    document.getElementById('objectives').value = '';
    document.getElementById('steps').value = '';
    document.getElementById('tools').value = '';
    document.getElementById('activities').value = '';
    imageUpload.value = '';
    preview.src = '';
    imagePreview.classList.add('hidden');
    attendanceTable.innerHTML = '<thead><tr><th>Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨</th><th>Ø§Ù„Ø­Ø§Ù„Ø©</th><th>Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th></tr></thead>';
    previewContent.innerHTML = '';
});

// Load saved lesson plan (if exists)
window.addEventListener('load', function() {
    const savedLessonPlan = localStorage.getItem('lessonPlan');
    if (savedLessonPlan) {
        const lessonData = JSON.parse(savedLessonPlan);
        document.getElementById('date').value = lessonData.date;
        document.getElementById('subject').value = lessonData.subject;
        document.getElementById('grade').value = lessonData.grade;
        document.getElementById('period').value = lessonData.period;
        document.getElementById('lessonTitle').value = lessonData.lessonTitle;
        document.getElementById('introduction').value = lessonData.introduction;
        document.getElementById('objectives').value = lessonData.objectives;
        document.getElementById('steps').value = lessonData.steps;
        document.getElementById('tools').value = lessonData.tools;
        document.getElementById('activities').value = lessonData.activities;
        if (lessonData.image) {
            preview.src = lessonData.image;
            imagePreview.classList.remove('hidden');
        }
        if (lessonData.attendance) {
            lessonData.attendance.forEach(student => {
                const row = attendanceTable.insertRow(-1);
                const cell1 = row.insertCell(0);
                const cell2 = row.insertCell(1);
                const cell3 = row.insertCell(2);
                cell1.textContent = student.name;
                cell2.innerHTML = `
                    <select class="p-2 border rounded dark:bg-gray-700 dark:text-white">
                        <option value="Ø­Ø§Ø¶Ø±" ${student.status === 'Ø­Ø§Ø¶Ø±' ? 'selected' : ''}>Ø­Ø§Ø¶Ø±</option>
                        <option value="ØºØ§Ø¦Ø¨" ${student.status === 'ØºØ§Ø¦Ø¨' ? 'selected' : ''}>ØºØ§Ø¦Ø¨</option>
                    </select>
                `;
                cell3.innerHTML = `<button class="bg-red-500 text-white px-2 py-1 rounded">Ø­Ø°Ù</button>`;
                cell3.querySelector('button').addEventListener('click', function() {
                    attendanceTable.deleteRow(row.rowIndex);
                });
            });
        }
    }
});

// Initialize dark mode based on user preference
if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
    body.classList.add('dark');
}

// Listen for changes in color scheme preference
window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', e => {
    if (e.matches) {
        body.classList.add('dark');
    } else {
        body.classList.remove('dark');
    }
});

});
</script>
</body>
</html>
                    
